# yaml-language-server: $schema=https://json.schemastore.org/github-workflow.json

name: Nightly

on:
  workflow_dispatch:
  schedule:
    - cron: '0 0 */2 * *'

jobs:
  musl:
    strategy:
      fail-fast: true
      matrix:
        hypervisor: [kvm, mshv3]
        cpu: [amd, intel]
        config: [debug, release]
    uses: ./.github/workflows/dep_rust.yml
    secrets: inherit
    with: 
      hypervisor: ${{ matrix.hypervisor }}
      cpu: ${{ matrix.cpu }}
      config: ${{ matrix.config }}
      target_triple: x86_64-unknown-linux-musl

# TODO: using notification script

